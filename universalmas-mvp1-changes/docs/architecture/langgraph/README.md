# LangGraph Architecture Diagrams

This directory contains visual architecture diagrams for the Universal Multi-Agent System Framework's LangGraph workflow integration.

## Workflow Diagrams

### `universal_workflow.mmd`
**Complete Universal Framework Workflow Visualization**

This Mermaid diagram represents the 6-phase workflow structure of the Universal Framework:

```
START ‚Üí initialization ‚Üí discovery ‚Üí analysis ‚Üí generation ‚Üí review ‚Üí delivery ‚Üí END
```

#### Workflow Phases

1. **Initialization**
   - Session setup and context preparation
   - Security validation and authorization
   - Feature flag evaluation and safe mode configuration

2. **Discovery** 
   - Requirements gathering from user input
   - Stakeholder identification and mapping
   - Context research and constraint identification
   - Scope design and objective clarification

3. **Analysis**
   - Data analysis and option evaluation
   - Risk assessment and impact analysis
   - Feasibility checking and validation
   - Recommendation engine processing

4. **Generation**
   - Content creation and solution development
   - Structure architecture and design
   - Template engine processing and media handling
   - Integration synthesis

5. **Review**
   - Quality validation and accuracy checking
   - Compliance auditing and privacy verification
   - Stakeholder review coordination
   - Bias detection and improvement suggestions

6. **Delivery**
   - Final packaging and distribution preparation
   - Presentation optimization
   - Feedback collection and iteration management
   - Completion certification

#### Viewing the Diagram

**Method 1: Mermaid Live Editor**
1. Copy the contents of `universal_workflow.mmd`
2. Go to [mermaid.live](https://mermaid.live)
3. Paste the code to see the interactive diagram

**Method 2: VS Code Extension**
1. Install the "Mermaid Preview" extension
2. Open `universal_workflow.mmd` in VS Code
3. Use the preview pane to see the rendered diagram

**Method 3: LangGraph Studio**
1. Install Docker Desktop
2. Run `python ../../scripts/langgraph/launch_studio.py`
3. Access interactive workflow at http://localhost:8123

## Architecture Principles

### FSM-Enforced Progression
The workflow enforces strict finite state machine progression:
- ‚úÖ Each phase has explicit entry/exit criteria
- ‚úÖ No phase can be skipped without meeting requirements
- ‚úÖ Rollback and error recovery paths are defined
- ‚úÖ Circuit breakers prevent infinite loops

### Enterprise Compliance
Visual workflow supports enterprise requirements:
- üîí **Audit Trails**: Every transition is logged and traceable
- üõ°Ô∏è **Security Gates**: Authorization checks at each phase
- üìä **Compliance Validation**: SOC2/GDPR compliance verification
- üîç **State Inspection**: Complete state visibility for debugging

### Agent Orchestration
The workflow coordinates multiple specialized agents:
- **Entry Agents**: Session management, context initialization
- **Discovery Agents**: Requirements analysis, stakeholder mapping
- **Analysis Agents**: Data processing, risk assessment
- **Generation Agents**: Content creation, solution development
- **Review Agents**: Quality validation, compliance checking
- **Delivery Agents**: Packaging, distribution, completion

## Integration Notes

### LangGraph Studio Integration
These diagrams are generated from the actual workflow code and can be:
- **Debugged interactively** in LangGraph Studio
- **Tested with real data** using Studio's playground
- **Monitored in real-time** during workflow execution
- **Optimized based on metrics** from Studio's performance analysis

### Framework Compatibility
All diagrams maintain compatibility with:
- **UniversalWorkflowState**: Core state model
- **Safe Mode Configuration**: Enterprise vs. development modes
- **Circuit Breaker Patterns**: Protection against infinite loops
- **Conditional Imports**: Enterprise feature flag respect

## Generation and Updates

### Automatic Generation
Diagrams are automatically generated by:
```bash
# Generate from actual workflow code
python ../../scripts/langgraph/visualize_workflow.py --format mermaid
```

### Manual Updates
When workflow structure changes:
1. Update the workflow builder code
2. Regenerate diagrams using the visualizer script
3. Validate in LangGraph Studio
4. Update this documentation

### Version Control
- Diagrams are version-controlled alongside code
- Changes reflect actual workflow modifications
- Historical versions show evolution of architecture

---

*These diagrams represent the current state of the Universal Framework workflow as of July 22, 2025.*
